<h2>Register</h2>
<input type="text" id="username" placeholder="Username"><br>
<input type="text" id="name" placeholder="Name"><br>
<input type="email" id="email" placeholder="Email"><br>
<input type="text" id="phone" placeholder="Phone"><br>

<p>Payment Method:</p>
<label><input type="radio" name="payment" value="cash"> Cash</label><br>
<label><input type="radio" name="payment" value="card"> Card</label><br>
<label><input type="radio" name="payment" value="wallet"> Wallet</label><br>

<button onclick="register()">Register</button>
<p id="status"></p>

<script>
function register() {
  const data = {
    username: document.getElementById("username").value,
    name: document.getElementById("name").value,
    email: document.getElementById("email").value,
    phone: document.getElementById("phone").value,
    payment: document.querySelector('input[name="payment"]:checked')?.value
  };

  fetch("/registerUser", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  })
  .then(res => res.text())
  .then(text => {
    document.getElementById("status").innerText = text;
    window.location.href = "/login";
  })
  .catch(err => {
    document.getElementById("status").innerText = "Error registering.";
    console.error(err);
  });
}
</script>